<!DOCTYPE html>
<html lang="de">

<head>
    <title>Tagesschau Nachrichten</title>
    <meta http-equiv="cache-control" content="max-age=0">
    <meta charset="UTF-8">
    <meta name="description" content="Tagesschau Nachrichten">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22 style=%22background-color:black%22><text style=%22font-weight:900%22 x=%2212%22 y=%2250%22 fill=%22white%22 font-size=%2255%22>NE<tspan x=%227%22 y=%2298%22>WS</tspan></text></svg>">
    <style>
        * {
            box-sizing: border-box;
        }
        
        html {
            background-color: #000;
            scrollbar-width: thin;
            scrollbar-color: #333 #000;
        }

        body {
            color: #fff;
            font-family: sans-serif;
        }

        a {
            color: #fff;
            text-decoration: none;
            display: block;
            padding: 9px 0;
        }

        a:visited {
            color: #888;
        }

        h1 {
            margin: 0;
            font-size: 1rem;
            padding: 9px 0 9px 0;
            cursor: pointer;
        }

        ol {
            margin-top: 8px;
            padding-left: 0;
            list-style-type: none;
        }

        h1,
        ol,
        input {
            max-width: 65ch;
            margin-inline: auto;
        }

        input {
            display: block;
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            background-color: #111;
            border: 1px solid #333;
            color: #fff;
        }
    </style>
</head>

<body>
    <header>
        <h1 onclick="document.documentElement.requestFullscreen()">Tagesschau Nachrichten</h1>
    </header>
    <main>
        <input type="text" id="search" placeholder="Filter Nachrichten">
        <ol></ol>
    </main>
    <script>
        function getNews() {
            document.querySelector("main ol").innerHTML = "";
            fetch("https://www.tagesschau.de/xml/rss2_https/")
                .then(x => x.text())
                .then(y => {
                    const z = new DOMParser().parseFromString(y, "text/xml");
                    z.querySelectorAll('item').forEach(e => {
                        const title = e.querySelector("title").innerHTML;
                        const link = e.querySelector("link").innerHTML;
                        const li = document.createElement('li');
                        li.innerHTML = `<a href="${link}" target="_blank">${title}</a>`;
                        document.querySelector("main ol").appendChild(li);
                    });
                });
        }

        document.getElementById('search').addEventListener('keyup', function () {
            const searchTerm = this.value.toLowerCase();
            const listItems = document.querySelectorAll('main ol li');
            listItems.forEach(li => {
                const text = li.textContent.toLowerCase();
                li.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        getNews();
        setInterval(() => { getNews() }, 1200000); // 20 minutes
    </script>
</body>

</html>
